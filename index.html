<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Mensa 风格 IQ 挑战</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="app-shell">
    <!-- 介绍页面 -->
    <div id="intro-panel" class="intro-panel">
      <div class="intro-content">
        <h1>Mensa 风格 IQ 挑战</h1>
        <p class="intro-subtitle">随机 30 题逻辑推理 • 每題 5 选项 • 40 分钟限时</p>
        <div class="intro-features">
          <div class="feature">
            <div class="feature-icon">⏱️</div>
            <div class="feature-text">40 分钟限时测试</div>
          </div>
          <div class="feature">
            <div class="feature-icon">📊</div>
            <div class="feature-text">即时智商估值与百分比排名</div>
          </div>
          <div class="feature">
            <div class="feature-icon">🔔</div>
            <div class="feature-text">钟形曲线展示水平分布</div>
          </div>
        </div>
        <p class="intro-description">
          本测试参考国际高智商组织 Mensa 的题型设计，涵盖逻辑推理、图形辨识、数列推算等类别。每次测试从 50+ 题库中随机抽取 30 题，包含经典谜题与高难度挑战。完成测试后，你将获得基于正态分布的 IQ 估值与全球百分比排名。
        </p>
        <button id="start-button" class="primary large">开始测试</button>
        <p class="intro-note">测试开始后，请专注于每题，时间结束将自动跳转至结果页。</p>
      </div>
    </div>

    <!-- 测试页面（初始隐藏） -->
    <div id="test-panel" class="hidden">
      <header class="hero">
        <div>
          <p class="eyebrow">IQ CHALLENGE</p>
          <h1>30 题 Mensa 风格测试</h1>
          <p>每题 5 个选项，完成后立即显示你的 IQ 估值。</p>
        </div>
        <div class="timer-chip" id="timer">15:00</div>
      </header>

      <div class="status-row">
        <div id="progress">第 1 / 30 题</div>
        <div id="score">答对 0 题</div>
      </div>

      <div class="card" id="question-card">
        <p id="question-text">载入题目...</p>
        <div id="options" class="options-grid"></div>
      </div>

      <button id="next-button" class="primary" disabled>下一题</button>
    </div>

    <!-- 支付验证页面（初始隐藏） -->
    <div id="payment-panel" class="payment-panel hidden">
      <div class="payment-content">
        <h2>解锁完整结果</h2>
        <div class="payment-info">
          <div class="payment-icon">🔒</div>
          <p class="payment-text">你的 IQ 测试已完成！要查看详细结果、百分比排名与钟形曲线分析，请完成验证。</p>
          <div class="payment-features">
            <div class="payment-feature">✅ 详细 IQ 估值与百分比排名</div>
            <div class="payment-feature">✅ 钟形曲线可视化分析</div>
            <div class="payment-feature">✅ 与全球人口比较数据</div>
          </div>
        </div>
        
        <div class="payment-options">
          <div class="payment-option">
            <div class="option-title">测试验证码</div>
            <div class="option-description">输入测试验证码可免费查看结果</div>
            <div class="input-group">
              <input type="text" id="access-code" placeholder="输入验证码" />
              <button id="submit-code" class="secondary">验证</button>
            </div>
            <div class="hint">测试验证码: <code>Hi_NoahTsang</code></div>
          </div>
          
          <div class="payment-divider">
            <span>或</span>
          </div>
          
          <div class="payment-option">
            <div class="option-title">支付宝支付</div>
            <div class="option-description">支付 ¥9.99 解锁完整结果（演示版本）</div>
            <div class="alipay-qr-container">
              <div class="alipay-qr">
                <!-- 支付宝二维码示例 -->
                <div class="qr-placeholder">
                  <div class="qr-icon">💰</div>
                  <div class="qr-text">支付宝二维码</div>
                </div>
              </div>
              <div class="alipay-instructions">
                <p>1. 打开支付宝APP</p>
                <p>2. 扫描上方二维码</p>
                <p>3. 支付 ¥9.99</p>
                <p>4. 支付成功后自动跳转</p>
              </div>
            </div>
            <div class="alipay-actions">
              <button id="simulate-alipay" class="primary">模拟支付宝支付成功</button>
              <p class="alipay-note">这是一个演示页面。在实际部署中，这里会集成真实的支付宝支付接口。</p>
            </div>
          </div>
        </div>
        
        <div class="payment-note">
          <p>这是一个演示页面。在实际部署中，这里可以集成支付网关。</p>
        </div>
      </div>
    </div>

    <!-- 结果页面（初始隐藏） -->
    <div id="result-panel" class="result-panel hidden">
      <h2>测验完成 🎉</h2>
      <div id="result-stats">
        <div class="stat">
          <div class="stat-value" id="correct-count">0</div>
          <div class="stat-label">答对题数</div>
        </div>
        <div class="stat">
          <div class="stat-value" id="iq-score">100</div>
          <div class="stat-label">估计 IQ</div>
        </div>
        <div class="stat">
          <div class="stat-value" id="percentile">50%</div>
          <div class="stat-label">百分比排名</div>
        </div>
      </div>

      <div class="bell-curve-container">
        <h3>IQ 分布钟形曲线</h3>
        <div class="bell-curve">
          <div class="curve"></div>
          <div class="curve-labels">
            <span>55</span>
            <span>70</span>
            <span>85</span>
            <span>100</span>
            <span>115</span>
            <span>130</span>
            <span>145</span>
          </div>
          <div id="user-marker" class="user-marker"></div>
        </div>
        <p class="curve-description">低於 <span id="higher-than">99.6%</span> 的人，位於全球人的 <span id="percentile-text">0.4%</span> 的位置。</p>
        <div id="iq-category" class="iq-category">
          <div class="category-label">IQ 分类</div>
          <div id="category-value" class="category-value">中等</div>
        </div>
      </div>

      <button id="restart-button" class="secondary">重新开始</button>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
